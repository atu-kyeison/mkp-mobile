import React, { createContext, useCallback, useContext, useMemo, useState } from 'react';
import { Settings } from 'react-native';

type SupportedLocale = 'en' | 'es';

type Dictionary = Record<string, string>;

const dictionaries: Record<SupportedLocale, Dictionary> = {
  en: {
    'nav.home': 'HOME',
    'nav.journey': 'JOURNEY',
    'nav.church': 'CHURCH',
    'nav.profile': 'PROFILE',
    'common.ok': 'OK',

    'auth.brand': 'MY KINGDOM PAL',
    'auth.welcome.title': 'Walk with the Word all week.',
    'auth.welcome.subtitle': 'Helping Believers Live the Word Every Day - Beyond Sunday',
    'auth.welcome.join': 'JOIN YOUR CHURCH',
    'auth.welcome.haveAccess': 'I ALREADY HAVE ACCESS',
    'auth.footer.prefix': 'By continuing, you agree to our',
    'auth.footer.terms': 'Terms of Service',
    'auth.footer.and': 'and',
    'auth.footer.privacy': 'Privacy Policy',
    'legal.header': 'LEGAL',
    'legal.terms.title': 'Terms of Service',
    'legal.terms.accept': 'ACCEPT TERMS',
    'legal.terms.quote': '"These terms explain how MKP works and what to expect."',
    'legal.terms.s1.title': 'Acceptance of Terms',
    'legal.terms.s1.body': 'By using MKP, you agree to these terms and to use the app in a lawful and respectful way. If you do not agree, do not use the app.',
    'legal.terms.s2.title': 'User Conduct',
    'legal.terms.s2.body': 'You may not use MKP to harass, threaten, impersonate others, submit unlawful material, or interfere with the service. Church teams are responsible for how they manage their own ministry follow-up.',
    'legal.terms.s3.title': 'Service Scope',
    'legal.terms.s3.body': 'MKP is a spiritual formation and church communication tool. It is not emergency response, medical care, therapy, or crisis intervention. If someone is in immediate danger, contact local emergency services.',
    'legal.terms.s4.title': 'Privacy and Local Data',
    'legal.terms.s4.body': 'Journal entries and mood notes are designed to remain on your device. Care submissions may be shared with the connected church team for ministry follow-up. Terms and privacy links may point to placeholder destinations during early rollout.',
    'legal.privacy.title': 'Privacy Policy',
    'legal.privacy.s1.title': 'What Stays on Your Device',
    'legal.privacy.s1.body': 'Journal entries and mood notes are intended to stay on your device. MKP is designed so your private reflections are local-first and not stored on MKP infrastructure.',
    'legal.privacy.s2.title': 'Church Support Requests',
    'legal.privacy.s2.body': 'If you choose to send a prayer, support, or gratitude request through Care, that information may be shared with your connected church team for ministry follow-up. Those requests are not posted publicly.',
    'legal.privacy.s3.title': 'Backups and Email',
    'legal.privacy.s3.body': 'Your device platform may include your local app data in an encrypted device backup, such as iCloud Backup or Android device backup. If your church uses account email for follow-up, that communication may occur outside the app.',
    'legal.privacy.s4.title': 'Your Choices',
    'legal.privacy.s4.body': 'You control what you write, what you submit to Care, and what remains private. If you stop using the app, locally stored content remains subject to your device settings and any backups you manage.',
    'legal.guidelines.title': 'Use Guidelines',
    'legal.guidelines.s1.title': 'Personal Formation',
    'legal.guidelines.s1.body': 'MKP is designed for prayerful reflection, spiritual formation, and quiet daily rhythm. Use the app as a personal space to pause, listen, and respond to God with honesty.',
    'legal.guidelines.s2.title': 'Private by Default',
    'legal.guidelines.s2.body': 'Your journal entries and mood notes are intended to remain private on your device. Care requests are shared only when you choose to send them for church follow-up.',
    'legal.guidelines.s3.title': 'Respectful Use',
    'legal.guidelines.s3.body': 'If you submit a prayer, gratitude, or support request, share truthfully and respectfully. Do not use the app to harass, threaten, impersonate others, or submit unlawful or harmful content.',
    'legal.guidelines.s4.title': 'Safety and Support',
    'legal.guidelines.s4.body': 'MKP is not emergency response, therapy, or crisis intervention. If someone is in immediate danger, contact local emergency services right away.',
    'legal.acknowledge': 'I UNDERSTAND',

    'auth.signin.title': 'Welcome back',
    'auth.signin.subtitle': 'Continue your walk',
    'auth.signin.emailLabel': 'EMAIL ADDRESS',
    'auth.signin.passwordLabel': 'PASSWORD',
    'auth.input.emailPlaceholder': 'your@email.com',
    'auth.input.passwordPlaceholder': '••••••••',
    'auth.signin.error': "That didn't match our records. Check your details or reset your password.",
    'auth.signin.errorTitle': 'Could not sign you in',
    'auth.signin.errorMissing': 'Enter both email and password to continue.',
    'auth.signin.errorInvalid': "That password doesn't match our records yet. Try again.",
    'auth.signin.tryAgain': 'TRY AGAIN',
    'auth.signin.submit': 'SIGN IN',
    'auth.signin.forgot': 'Forgot password?',

    'auth.signup.title': 'Start your journey',
    'auth.signup.subtitle': 'Create an account to begin',
    'auth.signup.firstNameLabel': 'FIRST NAME',
    'auth.signup.firstNamePlaceholder': 'Enter your name',
    'auth.signup.ageLine': 'I confirm I am at least 16 years old.',
    'auth.signup.ageSubline': 'My Kingdom Pal is designed for ages 16+.',
    'auth.signup.submit': 'CREATE ACCOUNT',
    'auth.signup.hasAccount': 'Already have an account?',
    'auth.signup.signin': 'Sign in',

    'auth.churchSearch.title': 'Find your church',
    'auth.churchSearch.subtitle': 'Enter the code your church gave you to join the community.',
    'auth.churchSearch.codeLabel': 'CHURCH CODE',
    'auth.churchSearch.codePlaceholder': 'E.G. KINGDOM-24',
    'auth.churchSearch.submit': 'CONNECT',
    'auth.churchSearch.codeHelp': 'Where can I find my code?',
    'auth.churchSearch.helpTitle': 'Find Your Church Code',
    'auth.churchSearch.helpBody': 'Your church can provide this code from the Sunday slide, bulletin, or welcome team.',
    'auth.churchSearch.errorTitle': 'Church code issue',
    'auth.churchSearch.errorRequired': 'Please enter a church code to continue.',
    'auth.churchSearch.errorNotFound': 'We could not find a church with that code yet.',
    'auth.churchSearch.retry': 'TRY AGAIN',
    'auth.churchSearch.getHelp': 'GET HELP',

    'auth.churchSuccess.title': "You're connected!",
    'auth.churchSuccess.description': 'Welcome to the family. Your journey with us begins today.',
    'auth.churchSuccess.submit': 'GO TO MY CHURCH',
    'auth.churchSuccess.continue': 'CONTINUE',
    'auth.churchSuccess.newBeliever': 'NEW TO FAITH? START HERE',

    'auth.passwordReset.title': 'Reset your password',
    'auth.passwordReset.subtitle': 'Enter your email and we’ll send you a reset link.',
    'auth.passwordReset.submit': 'SEND RESET LINK',
    'auth.passwordReset.remembered': 'Remember your password?',

    'auth.passwordEmailSent.title': 'Check your email',
    'auth.passwordEmailSent.subtitle': 'If an account exists for that email, you’ll receive a reset link in a few minutes.',
    'auth.passwordEmailSent.submit': 'RETURN TO SIGN IN',
    'auth.passwordEmailSent.resend': 'RESEND EMAIL',
    'auth.passwordEmailSent.useDifferent': 'USE A DIFFERENT EMAIL',
    'newBeliever.title': 'Welcome home.',
    'newBeliever.subtitle': 'We’re grateful you’re here. You don’t have to have it all figured out. This is a gentle beginning.',
    'newBeliever.next': 'WHAT HAPPENS NEXT',
    'newBeliever.step1': 'Join your church community',
    'newBeliever.step2': 'Receive Sunday’s message in a simple recap',
    'newBeliever.step3': 'Walk one small step each day this week',
    'newBeliever.privacy': 'Your journal is private — a space between you and God.',
    'newBeliever.prayerStart': 'I want to start with a prayer',

    'settings.section.language': 'LANGUAGE',
    'settings.header': 'SETTINGS',
    'settings.title': 'Adjust your experience, not your formation.',
    'settings.language.label': 'App Language',
    'settings.language.en': 'English',
    'settings.language.es': 'Español',
    'settings.section.theme': 'THEME',
    'settings.theme.label': 'Atmosphere',
    'settings.theme.midnight': 'Night Mode (Midnight Reverence)',
    'settings.theme.dawn': 'Dawn Mercy',
    'settings.section.formation': 'FORMATION PREFERENCES',
    'settings.formation.reminders': 'Gentle Reminders',
    'settings.formation.remindersHint': 'Receive a quiet daily nudge to pause.',
    'settings.care.churchMessagesHint': 'Receive church-wide announcements only when your church sends them.',
    'settings.care.encouragementHint': 'Allow one-to-one follow-up from your church team after a care request.',
    'settings.formation.privacyInfo': 'Your reflections remain private. You choose what to share.',
    'settings.section.care': 'CARE & COMMUNICATION',
    'settings.care.churchMessages': 'Church Messages',
    'settings.care.encouragement': 'Encouragement',
    'settings.section.help': 'HELP & SUPPORT',
    'settings.help.faq': 'Get Help & FAQ',
    'settings.section.account': 'ACCOUNT',
    'settings.account.connectedChurch': 'Connected Church',
    'settings.account.connectedChurchUnknown': 'No church connected yet',
    'settings.account.changeChurch': 'Change church',
    'settings.account.signOut': 'Sign Out',
    'settings.footer': 'MKP supports your journey — your church leads it.',

    'care.home.title': 'How can we walk with you?',
    'care.header': 'CARE',
    'care.home.prayer.label': 'PRAYER REQUEST',
    'care.home.prayer.prompt': 'What would you like prayer for today?',
    'care.home.prayer.action': 'SHARE PRAYER',
    'care.home.needMore': 'Need more than prayer?',
    'care.home.gratitude.label': 'GRATITUDE',
    'care.home.gratitude.prompt': 'Where have you seen God’s faithfulness this week?',
    'care.home.gratitude.action': 'SHARE GRATITUDE',
    'care.home.footer': 'Your community is here to hold you in prayer.',

    'care.support.title': 'How can we support you right now?',
    'care.support.section.type': 'WHAT KIND OF SUPPORT?',
    'care.support.section.message': 'YOUR MESSAGE',
    'care.support.section.contact': 'PREFERRED CONTACT',
    'care.support.placeholder': 'Tell us how we can walk with you...',
    'care.support.crisis': 'If you are in immediate danger, call local emergency services.',
    'care.support.send': 'SEND REQUEST',
    'care.support.sending': 'Sending your message...',
    'care.support.error': 'Something went wrong. Your message may not have sent.',
    'care.support.retry': 'TRY AGAIN',
    'care.support.saveLocal': 'SAVE LOCALLY',
    'care.support.saved.title': 'Saved on this device',
    'care.support.saved.body': 'Your message is saved locally for now. You can submit it again later.',
    'care.support.type.pastor': 'A conversation with a pastor',
    'care.support.type.discipleship': 'Discipleship / next steps',
    'care.support.type.accountability': 'Accountability support',
    'care.support.type.baptism': 'Baptism request',
    'care.support.type.dedication': 'Baby dedication request',
    'care.support.type.difficult': "I'm going through something difficult",
    'care.support.type.newBeliever': 'I recently gave my life to Christ',
    'care.support.type.other': 'Other',
    'care.support.contact.inapp': 'In-app',
    'care.support.contact.email': 'Email',
    'care.support.contactNote': 'Follow-up stays in-app when available. Your ministry team may also use your account email if needed.',
    'care.support.contactValue.email': 'EMAIL ADDRESS',
    'care.support.contactPlaceholder.phone': 'Enter phone number',
    'care.support.contactPlaceholder.email': 'Enter email address',
    'care.support.validation.title': 'Missing information',
    'care.support.validation.messageRequired': 'Please add a short message so your church knows how to help.',
    'care.support.validation.contactRequired': 'Please add your contact detail for follow-up.',
    'care.support.validation.invalidEmail': 'Please enter a valid email address.',
    'care.support.validation.invalidPhone': 'Please enter a valid phone number.',

    'care.success.kicker': 'CARE SUPPORT',
    'care.success.title': 'You’re not alone.',
    'care.success.message': 'Your request has been shared for church follow-up. A ministry team member can respond as your church workflow allows.',
    'care.success.disclaimer': 'If you are in immediate danger, call local emergency services.',
    'care.success.back': 'BACK TO CARE',
    'care.success.returnHome': 'RETURN TO HOME',
    'care.success.submitPrayer': 'SUBMIT A PRAYER',

    'care.prayer.alert.title': 'Prayer Submitted',
    'care.prayer.alert.body': 'Your request has been received and is ready for church follow-up.',
    'care.prayer.alert.done': 'DONE',
    'care.prayer.alert.needSupport': 'NEED MORE SUPPORT',
    'care.prayer.title': 'How can we pray for you?',
    'care.prayer.label': 'PRAYER REQUEST',
    'care.prayer.placeholder': 'What would you like prayer for today?',
    'care.prayer.action': 'SHARE PRAYER',
    'care.prayer.anonymous.title': 'Post Anonymously',
    'care.prayer.anonymous.subtitle': 'Your name will be hidden from the care team view',
    'care.prayer.support.title': 'Request Pastoral Support',
    'care.prayer.support.subtitle': 'A leader will reach out to walk with you',

    'care.testimony.alert.title': 'Testimony Submitted',
    'care.testimony.alert.body': 'Your gratitude has been shared for church follow-up.',
    'care.testimony.title': 'Where have you seen God’s faithfulness?',
    'care.testimony.label': 'TESTIMONY',
    'care.testimony.placeholder': 'Share a moment of grace...',
    'care.testimony.anonymous': 'Share anonymously',
    'care.testimony.allowShare': 'Allow church to share this as encouragement',
    'care.testimony.action': 'SHARE GRATITUDE',
    'care.testimony.footer': 'Your story strengthens the church.',

    'journey.title': 'Journey',
    'journey.subtitle': 'A formative record of what God is shaping',
    'journey.library': 'LIBRARY',
    'journey.favorites': 'FAVORITES',
    'journey.calendar': 'CALENDAR',
    'journey.favoritesEmpty': 'Your journey will appear here over time.',
    'journey.favoritesCta': 'WRITE YOUR FIRST REFLECTION',
    'journey.quick.insights': 'INSIGHTS HOME',
    'journey.quick.awareness': 'PAST AWARENESS',
    'journey.legend.reflection': 'Reflection',
    'journey.legend.mood': 'Mood',
    'journey.legend.sunday': 'Sunday',
    'journey.emptyPrompt': 'Select a day to revisit your walk.',
    'journey.dayDetail.title': 'Day Detail',
    'journey.dayDetail.loading': 'Loading day...',
    'journey.dayDetail.innerPosture': 'INNER POSTURE',
    'journey.dayDetail.reflection': 'REFLECTION',
    'journey.dayDetail.fromSunday': 'FROM SUNDAY',
    'journey.dayDetail.empty': 'No entries saved for this day.',
    'journey.dayDetail.addReflection': 'ADD A REFLECTION',
    'journey.dayDetail.logMood': 'LOG A MOOD',
    'journey.dayDetail.readOnlyPast': 'Past days are view-only.',
    'journey.dayDetail.error': 'Could not load this day.',
    'journey.dayDetail.retry': 'RETRY',
    'journey.dayDetail.fallbackMoodLogged': 'Reflection logged',
    'journey.dayDetail.fallbackSavedReflection': 'Your saved reflection for this day.',
    'journey.dayDetail.fallbackNoReflection': 'No reflection saved for this day.',
    'journey.dayDetail.fallbackNoSundayLink': 'No Sunday link for this entry',

    'reflection.subtitle.today': "TODAY'S REFLECTION",
    'reflection.subtitle.midweek': 'MIDWEEK REFLECTION',
    'reflection.invitation.dailyLabel': 'DAILY INVITATION',
    'reflection.invitation.midweekLabel': 'MIDWEEK INVITATION',
    'reflection.invitation.dailyText': '"What stayed with you today?"',
    'reflection.invitation.midweekText': '"What is God bringing to the surface in you today?"',
    'reflection.greetingMorning': 'Good morning.',
    'reflection.placeholder': 'Write your reflection here...',
    'reflection.save': 'SAVE TO JOURNEY',
    'reflection.update': 'UPDATE REFLECTION',
    'reflection.skip': 'SKIP FOR NOW',
    'reflection.needMore': 'Need more than prayer?',
    'reflection.privacy': 'This space is between you and God. Your reflections stay private.',
    'reflection.detail.title': 'REFLECTION',
    'reflection.detail.sundayMessage': "SUNDAY'S MESSAGE",
    'reflection.detail.invitation': 'THE INVITATION',
    'reflection.detail.words': 'YOUR WORDS',
    'reflection.detail.empty': 'No reflection saved for this entry.',
    'reflection.detail.backToJourney': 'BACK TO JOURNEY',
    'reflection.detail.edit': 'EDIT',
    'reflection.detail.delete': 'DELETE',
    'reflection.detail.deleteTitle': 'Delete reflection?',
    'reflection.detail.deleteBody': 'This will permanently remove the reflection from your journey history.',
    'reflection.detail.cancel': 'Cancel',
    'reflection.moodCurrent': 'Current mood:',
    'reflection.quote': '"A moment with God is never wasted."',

    'insights.header': 'INSIGHTS',
    'insights.title': 'Notice how this week has felt.',
    'insights.rhythm': 'THIS WEEK’S RHYTHM',
    'insights.earlier': 'Earlier',
    'insights.now': 'Now',
    'insights.optional': 'Based on your optional check-ins',
    'insights.reflectionPresence': 'REFLECTION PRESENCE',
    'insights.reflectionStat': 'You paused to reflect 3 days this week',
    'insights.reflectionSub': 'Reflection was part of your week',
    'insights.notice': 'SOMETHING WE NOTICED',
    'insights.noticeText': '"Weeks where you pause midweek often feel steadier."',
    'insights.footer': 'These insights are for awareness, not evaluation.',

    'mood.skip': 'SKIP',
    'mood.subtitle': 'EMOTIONAL AWARENESS',
    'mood.title': 'How are you feeling right now?',
    'mood.continue': 'CONTINUE',
    'mood.note': 'A moment for inner reflection.',
    'mood.needMore': 'Need more than prayer?',
    'mood.label.peaceful': 'Peaceful',
    'mood.label.rushed': 'Rushed',
    'mood.label.anxious': 'Anxious',
    'mood.label.grateful': 'Grateful',
    'mood.label.tired': 'Tired',
    'mood.label.focused': 'Focused',

    'moodDetail.subtitle': 'PAST AWARENESS',
    'moodDetail.innerPosture': 'INNER POSTURE',
    'moodDetail.journalEntry': 'JOURNAL ENTRY',
    'moodDetail.footer': 'Part of your weekly rhythm',
    'moodDetail.defaultDate': 'Friday • Sept 22',
    'moodDetail.title.tired': 'Tired',
    'moodDetail.title.rushed': 'Rushed',
    'moodDetail.title.grateful': 'Grateful',
    'moodDetail.title.peaceful': 'Peaceful',
    'moodDetail.title.focused': 'Focused',
    'moodDetail.title.anxious': 'Anxious',
    'moodDetail.desc.tired': 'You marked this moment as tired. Low energy is a signal for rest, not a demand for productivity. You were invited to exhale and trust God with your weariness.',
    'moodDetail.desc.rushed': 'You marked this moment as rushed. This posture highlights pace, not failure. You were invited to slow your heart and find a moment of unhurried grace.',
    'moodDetail.desc.grateful': 'You marked this moment as grateful. This posture amplifies your awareness of God’s presence. You were invited to rest in this lighthearted joy.',
    'moodDetail.desc.peaceful': 'You marked this moment as peaceful. In this receptive state, you were invited to notice grace and listen for the quiet voice of God.',
    'moodDetail.desc.focused': 'You marked this moment as focused. Clarity and attention allowed your intentions to flow naturally. You were invited to walk purposefully in this alignment.',
    'moodDetail.desc.anxious': 'You marked this moment as anxious. This mental noise is simply a cue for prayer and gentleness. You were invited to breathe deeply and remember you are held.',
    'sundaySummary.weeklyRecap': 'WEEKLY RECAP',

    'support.alert.title': 'Message Sent',
    'support.alert.body': 'Thanks for reaching out. A care team member will follow up.',
    'support.header': 'HELP',
    'support.title': 'How can we walk with you?',
    'support.messageLabel': 'YOUR MESSAGE',
    'support.placeholder': 'Tell us how we can support you...',
    'support.send': 'SEND MESSAGE',
    'support.faq': 'Browse FAQs',
    'support.guidelines': 'Sacred Use Guidelines',
    'support.footer': 'Our team is here to support your journey.',
    'faq.title': 'Frequently Asked Questions',
    'faq.q1': 'Is my journey really private?',
    'faq.a1': 'Yes. Your reflections and mood notes stay on your device and are only visible to you unless you choose to share something in Care.',
    'faq.q2': 'What if I miss a formation day?',
    'faq.a2': 'There are no streaks here. God meets you exactly where you are.',
    'faq.q3': 'Can I back up my journal?',
    'faq.a3': 'Yes. If your device supports encrypted device backups such as iCloud Backup or your Android backup setting, your journal can be included there. MKP does not store your journal on our servers.',
    'faq.q4': 'How does church support work?',
    'faq.a4': 'When you send a Care request, it is meant for your church team to review and respond through their ministry workflow. Prayer, support, and gratitude requests are not posted publicly.',
    'faq.footerHint': 'Still seeking guidance?',
    'faq.supportCta': 'CONTACT PASTORAL SUPPORT',
  },
  es: {
    'nav.home': 'INICIO',
    'nav.journey': 'CAMINO',
    'nav.church': 'IGLESIA',
    'nav.profile': 'PERFIL',
    'common.ok': 'OK',

    'auth.brand': 'MI REINO PAL',
    'auth.welcome.title': 'Camina con la Palabra toda la semana.',
    'auth.welcome.subtitle': 'Ayudando a los creyentes a vivir la Palabra cada día, más allá del domingo',
    'auth.welcome.join': 'ÚNETE A TU IGLESIA',
    'auth.welcome.haveAccess': 'YA TENGO ACCESO',
    'auth.footer.prefix': 'Al continuar, aceptas nuestros',
    'auth.footer.terms': 'Términos de Servicio',
    'auth.footer.and': 'y la',
    'auth.footer.privacy': 'Política de Privacidad',
    'legal.header': 'LEGAL',
    'legal.terms.title': 'Términos de Servicio',
    'legal.terms.accept': 'ACEPTAR TÉRMINOS',
    'legal.terms.quote': '"Estos términos explican cómo funciona MKP y qué esperar."',
    'legal.terms.s1.title': 'Aceptación de Términos',
    'legal.terms.s1.body': 'Al usar MKP, aceptas estos términos y usar la app de forma legal y respetuosa. Si no estás de acuerdo, no uses la app.',
    'legal.terms.s2.title': 'Conducta del Usuario',
    'legal.terms.s2.body': 'No puedes usar MKP para acosar, amenazar, suplantar a otros, enviar material ilegal ni interferir con el servicio. Los equipos de iglesia son responsables de cómo gestionan su propio seguimiento ministerial.',
    'legal.terms.s3.title': 'Alcance del Servicio',
    'legal.terms.s3.body': 'MKP es una herramienta de formación espiritual y comunicación con la iglesia. No es respuesta a emergencias, atención médica, terapia ni intervención en crisis. Si alguien está en peligro inmediato, contacta a los servicios de emergencia locales.',
    'legal.terms.s4.title': 'Privacidad y Datos Locales',
    'legal.terms.s4.body': 'Las entradas de journal y los estados de ánimo están diseñados para permanecer en tu dispositivo. Las solicitudes de Cuidado pueden compartirse con el equipo de tu iglesia para seguimiento ministerial. Los enlaces de términos y privacidad pueden apuntar a destinos provisionales durante el lanzamiento inicial.',
    'legal.privacy.title': 'Política de Privacidad',
    'legal.privacy.s1.title': 'Qué Permanece en tu Dispositivo',
    'legal.privacy.s1.body': 'Las entradas de journal y los estados de ánimo están pensados para permanecer en tu dispositivo. MKP está diseñado para que tus reflexiones privadas sean local-first y no se almacenen en la infraestructura de MKP.',
    'legal.privacy.s2.title': 'Solicitudes de Apoyo de la Iglesia',
    'legal.privacy.s2.body': 'Si decides enviar una solicitud de oración, apoyo o gratitud a través de Cuidado, esa información puede compartirse con el equipo de tu iglesia para seguimiento ministerial. Estas solicitudes no se publican de forma pública.',
    'legal.privacy.s3.title': 'Respaldos y Correo Electrónico',
    'legal.privacy.s3.body': 'La plataforma de tu dispositivo puede incluir los datos locales de la app en un respaldo cifrado, como iCloud Backup o el respaldo del dispositivo Android. Si tu iglesia usa el correo de la cuenta para seguimiento, esa comunicación puede ocurrir fuera de la app.',
    'legal.privacy.s4.title': 'Tus Decisiones',
    'legal.privacy.s4.body': 'Tú decides qué escribes, qué envías a Cuidado y qué permanece privado. Si dejas de usar la app, el contenido almacenado localmente seguirá sujeto a la configuración de tu dispositivo y a cualquier respaldo que administres.',
    'legal.guidelines.title': 'Guías de Uso',
    'legal.guidelines.s1.title': 'Formación Personal',
    'legal.guidelines.s1.body': 'MKP está diseñado para la reflexión en oración, la formación espiritual y un ritmo diario tranquilo. Usa la app como un espacio personal para pausar, escuchar y responder a Dios con honestidad.',
    'legal.guidelines.s2.title': 'Privado por Defecto',
    'legal.guidelines.s2.body': 'Tus entradas de journal y estados de ánimo están pensados para permanecer privados en tu dispositivo. Las solicitudes de Cuidado solo se comparten cuando tú eliges enviarlas para seguimiento de la iglesia.',
    'legal.guidelines.s3.title': 'Uso Respetuoso',
    'legal.guidelines.s3.body': 'Si envías una solicitud de oración, gratitud o apoyo, compártela con verdad y respeto. No uses la app para acosar, amenazar, suplantar a otros ni enviar contenido ilegal o dañino.',
    'legal.guidelines.s4.title': 'Seguridad y Apoyo',
    'legal.guidelines.s4.body': 'MKP no es respuesta a emergencias, terapia ni intervención en crisis. Si alguien está en peligro inmediato, contacta de inmediato a los servicios de emergencia locales.',
    'legal.acknowledge': 'ENTIENDO',

    'auth.signin.title': 'Bienvenido de nuevo',
    'auth.signin.subtitle': 'Continúa tu caminar',
    'auth.signin.emailLabel': 'CORREO ELECTRÓNICO',
    'auth.signin.passwordLabel': 'CONTRASEÑA',
    'auth.input.emailPlaceholder': 'tu@correo.com',
    'auth.input.passwordPlaceholder': '••••••••',
    'auth.signin.error': 'No coincide con nuestros registros. Verifica tus datos o restablece tu contraseña.',
    'auth.signin.errorTitle': 'No pudimos iniciar sesión',
    'auth.signin.errorMissing': 'Ingresa correo y contraseña para continuar.',
    'auth.signin.errorInvalid': 'Esa contraseña no coincide con nuestros registros por ahora. Inténtalo de nuevo.',
    'auth.signin.tryAgain': 'INTENTAR DE NUEVO',
    'auth.signin.submit': 'INICIAR SESIÓN',
    'auth.signin.forgot': '¿Olvidaste tu contraseña?',

    'auth.signup.title': 'Comienza tu camino',
    'auth.signup.subtitle': 'Crea una cuenta para empezar',
    'auth.signup.firstNameLabel': 'NOMBRE',
    'auth.signup.firstNamePlaceholder': 'Ingresa tu nombre',
    'auth.signup.ageLine': 'Confirmo que tengo al menos 16 años.',
    'auth.signup.ageSubline': 'My Kingdom Pal está diseñado para mayores de 16 años.',
    'auth.signup.submit': 'CREAR CUENTA',
    'auth.signup.hasAccount': '¿Ya tienes una cuenta?',
    'auth.signup.signin': 'Inicia sesión',

    'auth.churchSearch.title': 'Encuentra tu iglesia',
    'auth.churchSearch.subtitle': 'Ingresa el código que te dio tu iglesia para unirte.',
    'auth.churchSearch.codeLabel': 'CÓDIGO DE IGLESIA',
    'auth.churchSearch.codePlaceholder': 'EJ. REINO-24',
    'auth.churchSearch.submit': 'CONECTAR',
    'auth.churchSearch.codeHelp': '¿Dónde encuentro mi código?',
    'auth.churchSearch.helpTitle': 'Encuentra el código de tu iglesia',
    'auth.churchSearch.helpBody': 'Tu iglesia puede compartir este código en la pantalla del domingo, boletín o equipo de bienvenida.',
    'auth.churchSearch.errorTitle': 'Problema con el código',
    'auth.churchSearch.errorRequired': 'Ingresa un código de iglesia para continuar.',
    'auth.churchSearch.errorNotFound': 'Aún no encontramos una iglesia con ese código.',
    'auth.churchSearch.retry': 'REINTENTAR',
    'auth.churchSearch.getHelp': 'OBTENER AYUDA',

    'auth.churchSuccess.title': '¡Estás conectado!',
    'auth.churchSuccess.description': 'Bienvenido a la familia. Tu camino con nosotros comienza hoy.',
    'auth.churchSuccess.submit': 'IR A MI IGLESIA',
    'auth.churchSuccess.continue': 'CONTINUAR',
    'auth.churchSuccess.newBeliever': '¿NUEVO EN LA FE? COMIENZA AQUÍ',

    'auth.passwordReset.title': 'Restablece tu contraseña',
    'auth.passwordReset.subtitle': 'Ingresa tu correo y te enviaremos un enlace de restablecimiento.',
    'auth.passwordReset.submit': 'ENVIAR ENLACE',
    'auth.passwordReset.remembered': '¿Recuerdas tu contraseña?',

    'auth.passwordEmailSent.title': 'Revisa tu correo',
    'auth.passwordEmailSent.subtitle': 'Si existe una cuenta con ese correo, recibirás un enlace en unos minutos.',
    'auth.passwordEmailSent.submit': 'VOLVER A INICIAR SESIÓN',
    'auth.passwordEmailSent.resend': 'REENVIAR CORREO',
    'auth.passwordEmailSent.useDifferent': 'USAR OTRO CORREO',
    'newBeliever.title': 'Bienvenido a casa.',
    'newBeliever.subtitle': 'Nos alegra que estés aquí. No tienes que tener todo resuelto. Este es un comienzo con gracia.',
    'newBeliever.next': 'LO QUE SIGUE',
    'newBeliever.step1': 'Únete a la comunidad de tu iglesia',
    'newBeliever.step2': 'Recibe el mensaje del domingo en un resumen sencillo',
    'newBeliever.step3': 'Da un paso pequeño cada día esta semana',
    'newBeliever.privacy': 'Tu journal es privado: un espacio entre tú y Dios.',
    'newBeliever.prayerStart': 'Quiero empezar con una oración',

    'settings.section.language': 'IDIOMA',
    'settings.header': 'AJUSTES',
    'settings.title': 'Ajusta tu experiencia, no tu formación.',
    'settings.language.label': 'Idioma de la app',
    'settings.language.en': 'Inglés',
    'settings.language.es': 'Español',
    'settings.section.theme': 'TEMA',
    'settings.theme.label': 'Atmósfera',
    'settings.theme.midnight': 'Modo Noche (Reverencia de Medianoche)',
    'settings.theme.dawn': 'Misericordia del Alba',
    'settings.section.formation': 'PREFERENCIAS DE FORMACIÓN',
    'settings.formation.reminders': 'Recordatorios suaves',
    'settings.formation.remindersHint': 'Recibe un recordatorio diario para pausar.',
    'settings.care.churchMessagesHint': 'Recibe anuncios para toda la iglesia solo cuando tu iglesia los envíe.',
    'settings.care.encouragementHint': 'Permite seguimiento personal de tu equipo de iglesia después de una solicitud de cuidado.',
    'settings.formation.privacyInfo': 'Tus reflexiones permanecen privadas. Tú decides qué compartir.',
    'settings.section.care': 'CUIDADO Y COMUNICACIÓN',
    'settings.care.churchMessages': 'Mensajes de la iglesia',
    'settings.care.encouragement': 'Mensajes de ánimo',
    'settings.section.help': 'AYUDA Y SOPORTE',
    'settings.help.faq': 'Ayuda y preguntas frecuentes',
    'settings.section.account': 'CUENTA',
    'settings.account.connectedChurch': 'Iglesia conectada',
    'settings.account.connectedChurchUnknown': 'Aún no hay una iglesia conectada',
    'settings.account.changeChurch': 'Cambiar iglesia',
    'settings.account.signOut': 'Cerrar sesión',
    'settings.footer': 'MKP apoya tu camino; tu iglesia lo guía.',

    'care.home.title': '¿Cómo podemos caminar contigo?',
    'care.header': 'CUIDADO',
    'care.home.prayer.label': 'PETICIÓN DE ORACIÓN',
    'care.home.prayer.prompt': '¿Por qué te gustaría que oremos hoy?',
    'care.home.prayer.action': 'COMPARTIR ORACIÓN',
    'care.home.needMore': '¿Necesitas más que oración?',
    'care.home.gratitude.label': 'GRATITUD',
    'care.home.gratitude.prompt': '¿Dónde has visto la fidelidad de Dios esta semana?',
    'care.home.gratitude.action': 'COMPARTIR GRATITUD',
    'care.home.footer': 'Tu comunidad está aquí para sostenerte en oración.',

    'care.support.title': '¿Cómo podemos apoyarte ahora mismo?',
    'care.support.section.type': '¿QUÉ TIPO DE APOYO?',
    'care.support.section.message': 'TU MENSAJE',
    'care.support.section.contact': 'CONTACTO PREFERIDO',
    'care.support.placeholder': 'Cuéntanos cómo podemos caminar contigo...',
    'care.support.crisis': 'Si estás en peligro inmediato, llama a los servicios de emergencia locales.',
    'care.support.send': 'ENVIAR SOLICITUD',
    'care.support.sending': 'Enviando tu mensaje...',
    'care.support.error': 'Algo salió mal. Es posible que tu mensaje no se haya enviado.',
    'care.support.retry': 'INTENTAR DE NUEVO',
    'care.support.saveLocal': 'GUARDAR LOCALMENTE',
    'care.support.saved.title': 'Guardado en este dispositivo',
    'care.support.saved.body': 'Tu mensaje quedó guardado localmente por ahora. Puedes enviarlo más tarde.',
    'care.support.type.pastor': 'Una conversación con un pastor',
    'care.support.type.discipleship': 'Discipulado / próximos pasos',
    'care.support.type.accountability': 'Acompañamiento y responsabilidad',
    'care.support.type.baptism': 'Solicitud de bautismo',
    'care.support.type.dedication': 'Solicitud de dedicación de bebé',
    'care.support.type.difficult': 'Estoy pasando por algo difícil',
    'care.support.type.newBeliever': 'Recientemente entregué mi vida a Cristo',
    'care.support.type.other': 'Otro',
    'care.support.contact.inapp': 'En la app',
    'care.support.contact.email': 'Correo',
    'care.support.contactNote': 'El seguimiento permanece en la app cuando esté disponible. Tu equipo ministerial también puede usar el correo de tu cuenta si hace falta.',
    'care.support.contactValue.email': 'CORREO ELECTRÓNICO',
    'care.support.contactPlaceholder.phone': 'Ingresa tu número',
    'care.support.contactPlaceholder.email': 'Ingresa tu correo',
    'care.support.validation.title': 'Falta información',
    'care.support.validation.messageRequired': 'Agrega un mensaje breve para que tu iglesia sepa cómo ayudarte.',
    'care.support.validation.contactRequired': 'Agrega tu dato de contacto para seguimiento.',
    'care.support.validation.invalidEmail': 'Ingresa un correo electrónico válido.',
    'care.support.validation.invalidPhone': 'Ingresa un número de teléfono válido.',

    'care.success.kicker': 'APOYO PASTORAL',
    'care.success.title': 'No estás solo.',
    'care.success.message': 'Tu solicitud fue compartida para seguimiento de la iglesia. Un miembro del equipo ministerial puede responder según el flujo de tu iglesia.',
    'care.success.disclaimer': 'Si estás en peligro inmediato, llama a los servicios de emergencia locales.',
    'care.success.back': 'VOLVER A CUIDADO',
    'care.success.returnHome': 'VOLVER AL INICIO',
    'care.success.submitPrayer': 'ENVIAR UNA ORACIÓN',

    'care.prayer.alert.title': 'Oración enviada',
    'care.prayer.alert.body': 'Tu solicitud fue recibida y está lista para seguimiento de la iglesia.',
    'care.prayer.alert.done': 'LISTO',
    'care.prayer.alert.needSupport': 'NECESITO MÁS APOYO',
    'care.prayer.title': '¿Cómo podemos orar por ti?',
    'care.prayer.label': 'PETICIÓN DE ORACIÓN',
    'care.prayer.placeholder': '¿Por qué te gustaría oración hoy?',
    'care.prayer.action': 'COMPARTIR ORACIÓN',
    'care.prayer.anonymous.title': 'Publicar de forma anónima',
    'care.prayer.anonymous.subtitle': 'Tu nombre estará oculto en la vista del equipo pastoral',
    'care.prayer.support.title': 'Solicitar apoyo pastoral',
    'care.prayer.support.subtitle': 'Un líder se comunicará para caminar contigo',

    'care.testimony.alert.title': 'Testimonio enviado',
    'care.testimony.alert.body': 'Tu gratitud fue compartida para seguimiento de la iglesia.',
    'care.testimony.title': '¿Dónde has visto la fidelidad de Dios?',
    'care.testimony.label': 'TESTIMONIO',
    'care.testimony.placeholder': 'Comparte un momento de gracia...',
    'care.testimony.anonymous': 'Compartir de forma anónima',
    'care.testimony.allowShare': 'Permitir que la iglesia lo comparta como ánimo',
    'care.testimony.action': 'COMPARTIR GRATITUD',
    'care.testimony.footer': 'Tu historia fortalece a la iglesia.',

    'journey.title': 'Camino',
    'journey.subtitle': 'Un registro formativo de lo que Dios está moldeando',
    'journey.library': 'BIBLIOTECA',
    'journey.favorites': 'FAVORITOS',
    'journey.calendar': 'CALENDARIO',
    'journey.favoritesEmpty': 'Tu camino aparecerá aquí con el tiempo.',
    'journey.favoritesCta': 'ESCRIBE TU PRIMERA REFLEXIÓN',
    'journey.quick.insights': 'INICIO DE INSIGHTS',
    'journey.quick.awareness': 'AWARENESS PASADA',
    'journey.legend.reflection': 'Reflexión',
    'journey.legend.mood': 'Estado',
    'journey.legend.sunday': 'Domingo',
    'journey.emptyPrompt': 'Selecciona un día para revisar tu caminar.',
    'journey.dayDetail.title': 'Detalle del día',
    'journey.dayDetail.loading': 'Cargando día...',
    'journey.dayDetail.innerPosture': 'POSTURA INTERIOR',
    'journey.dayDetail.reflection': 'REFLEXIÓN',
    'journey.dayDetail.fromSunday': 'DESDE EL DOMINGO',
    'journey.dayDetail.empty': 'No hay entradas guardadas para este día.',
    'journey.dayDetail.addReflection': 'AGREGAR REFLEXIÓN',
    'journey.dayDetail.logMood': 'REGISTRAR ESTADO',
    'journey.dayDetail.readOnlyPast': 'Los días pasados son solo de lectura.',
    'journey.dayDetail.error': 'No se pudo cargar este día.',
    'journey.dayDetail.retry': 'REINTENTAR',
    'journey.dayDetail.fallbackMoodLogged': 'Reflexión registrada',
    'journey.dayDetail.fallbackSavedReflection': 'Tu reflexión guardada para este día.',
    'journey.dayDetail.fallbackNoReflection': 'No hay reflexión guardada para este día.',
    'journey.dayDetail.fallbackNoSundayLink': 'No hay vínculo del domingo para esta entrada',

    'reflection.subtitle.today': 'REFLEXIÓN DE HOY',
    'reflection.subtitle.midweek': 'REFLEXIÓN DE MITAD DE SEMANA',
    'reflection.invitation.dailyLabel': 'INVITACIÓN DIARIA',
    'reflection.invitation.midweekLabel': 'INVITACIÓN DE MITAD DE SEMANA',
    'reflection.invitation.dailyText': '"¿Qué permaneció contigo hoy?"',
    'reflection.invitation.midweekText': '"¿Qué está trayendo Dios a la superficie en ti hoy?"',
    'reflection.greetingMorning': 'Buenos días.',
    'reflection.placeholder': 'Escribe tu reflexión aquí...',
    'reflection.save': 'GUARDAR EN CAMINO',
    'reflection.update': 'ACTUALIZAR REFLEXIÓN',
    'reflection.skip': 'OMITIR POR AHORA',
    'reflection.needMore': '¿Necesitas más que oración?',
    'reflection.privacy': 'Este espacio es entre tú y Dios. Tus reflexiones permanecen privadas.',
    'reflection.detail.title': 'REFLEXIÓN',
    'reflection.detail.sundayMessage': 'MENSAJE DEL DOMINGO',
    'reflection.detail.invitation': 'LA INVITACIÓN',
    'reflection.detail.words': 'TUS PALABRAS',
    'reflection.detail.empty': 'No hay reflexión guardada para esta entrada.',
    'reflection.detail.backToJourney': 'VOLVER AL CAMINO',
    'reflection.detail.edit': 'EDITAR',
    'reflection.detail.delete': 'ELIMINAR',
    'reflection.detail.deleteTitle': '¿Eliminar reflexión?',
    'reflection.detail.deleteBody': 'Esto eliminará permanentemente la reflexión de tu historial de camino.',
    'reflection.detail.cancel': 'Cancelar',
    'reflection.moodCurrent': 'Estado actual:',
    'reflection.quote': '"Un momento con Dios nunca se desperdicia."',

    'insights.header': 'INSIGHTS',
    'insights.title': 'Observa cómo se ha sentido esta semana.',
    'insights.rhythm': 'RITMO DE ESTA SEMANA',
    'insights.earlier': 'Antes',
    'insights.now': 'Ahora',
    'insights.optional': 'Basado en tus check-ins opcionales',
    'insights.reflectionPresence': 'PRESENCIA DE REFLEXIÓN',
    'insights.reflectionStat': 'Te detuviste a reflexionar 3 días esta semana',
    'insights.reflectionSub': 'La reflexión formó parte de tu semana',
    'insights.notice': 'ALGO QUE NOTAMOS',
    'insights.noticeText': '"Las semanas en que haces una pausa a mitad de semana suelen sentirse más estables."',
    'insights.footer': 'Estos insights son para conciencia, no para evaluación.',

    'mood.skip': 'OMITIR',
    'mood.subtitle': 'AWARENESS EMOCIONAL',
    'mood.title': '¿Cómo te sientes ahora mismo?',
    'mood.continue': 'CONTINUAR',
    'mood.note': 'Un momento para la reflexión interior.',
    'mood.needMore': '¿Necesitas más que oración?',
    'mood.label.peaceful': 'En paz',
    'mood.label.rushed': 'Acelerado',
    'mood.label.anxious': 'Ansioso',
    'mood.label.grateful': 'Agradecido',
    'mood.label.tired': 'Cansado',
    'mood.label.focused': 'Enfocado',

    'moodDetail.subtitle': 'AWARENESS PASADA',
    'moodDetail.innerPosture': 'POSTURA INTERIOR',
    'moodDetail.journalEntry': 'ENTRADA DE JOURNAL',
    'moodDetail.footer': 'Parte de tu ritmo semanal',
    'moodDetail.defaultDate': 'Viernes • 22 sept',
    'moodDetail.title.tired': 'Cansado',
    'moodDetail.title.rushed': 'Acelerado',
    'moodDetail.title.grateful': 'Agradecido',
    'moodDetail.title.peaceful': 'En paz',
    'moodDetail.title.focused': 'Enfocado',
    'moodDetail.title.anxious': 'Ansioso',
    'moodDetail.desc.tired': 'Marcaste este momento como cansado. La baja energía es una señal para descansar, no una exigencia de productividad. Fuiste invitado a exhalar y confiar en Dios con tu cansancio.',
    'moodDetail.desc.rushed': 'Marcaste este momento como acelerado. Esta postura resalta el ritmo, no el fracaso. Fuiste invitado a calmar tu corazón y encontrar un momento de gracia sin prisa.',
    'moodDetail.desc.grateful': 'Marcaste este momento como agradecido. Esta postura amplifica tu conciencia de la presencia de Dios. Fuiste invitado a descansar en esta alegría.',
    'moodDetail.desc.peaceful': 'Marcaste este momento como en paz. En este estado receptivo, fuiste invitado a notar la gracia y escuchar la voz suave de Dios.',
    'moodDetail.desc.focused': 'Marcaste este momento como enfocado. La claridad y la atención permitieron que tus intenciones fluyeran de forma natural. Fuiste invitado a caminar con propósito.',
    'moodDetail.desc.anxious': 'Marcaste este momento como ansioso. Este ruido mental es solo una señal para la oración y la ternura. Fuiste invitado a respirar profundo y recordar que estás sostenido.',
    'sundaySummary.weeklyRecap': 'RESUMEN SEMANAL',

    'support.alert.title': 'Mensaje enviado',
    'support.alert.body': 'Gracias por comunicarte. Un miembro del equipo pastoral dará seguimiento.',
    'support.header': 'AYUDA',
    'support.title': '¿Cómo podemos caminar contigo?',
    'support.messageLabel': 'TU MENSAJE',
    'support.placeholder': 'Cuéntanos cómo podemos apoyarte...',
    'support.send': 'ENVIAR MENSAJE',
    'support.faq': 'Ver FAQs',
    'support.guidelines': 'Guías de uso sagrado',
    'support.footer': 'Nuestro equipo está aquí para apoyar tu camino.',
    'faq.title': 'Preguntas Frecuentes',
    'faq.q1': '¿Mi camino realmente es privado?',
    'faq.a1': 'Sí. Tus reflexiones y estados de ánimo permanecen en tu dispositivo y solo tú los puedes ver, a menos que decidas compartir algo en Cuidado.',
    'faq.q2': '¿Qué pasa si me pierdo un día de formación?',
    'faq.a2': 'Aquí no hay rachas. Dios te encuentra exactamente donde estás.',
    'faq.q3': '¿Puedo respaldar mi journal?',
    'faq.a3': 'Sí. Si tu dispositivo admite respaldos cifrados, como iCloud Backup o la copia de seguridad de Android, tu journal puede incluirse allí. MKP no guarda tu journal en nuestros servidores.',
    'faq.q4': '¿Cómo funciona el apoyo de la iglesia?',
    'faq.a4': 'Cuando envías una solicitud en Cuidado, está pensada para que tu equipo de iglesia la revise y responda dentro de su flujo ministerial. Las solicitudes de oración, apoyo y gratitud no se publican de forma pública.',
    'faq.footerHint': '¿Aún buscas guía?',
    'faq.supportCta': 'CONTACTAR APOYO PASTORAL',
  },
};

const getDefaultLocale = (): SupportedLocale => {
  const savedLocale = Settings.get('mkp.locale');
  if (savedLocale === 'en' || savedLocale === 'es') {
    return savedLocale;
  }

  const locale = Intl.DateTimeFormat().resolvedOptions().locale.toLowerCase();
  if (locale.startsWith('es')) {
    return 'es';
  }
  return 'en';
};

type I18nContextValue = {
  locale: SupportedLocale;
  setLocale: (locale: SupportedLocale) => void;
  t: (key: string) => string;
};

const I18nContext = createContext<I18nContextValue | null>(null);

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [locale, setLocaleState] = useState<SupportedLocale>(getDefaultLocale);

  const setLocale = useCallback((nextLocale: SupportedLocale) => {
    Settings.set({ 'mkp.locale': nextLocale });
    setLocaleState(nextLocale);
  }, []);

  const t = useCallback(
    (key: string) => dictionaries[locale][key] ?? dictionaries.en[key] ?? key,
    [locale]
  );

  const value = useMemo(
    () => ({
      locale,
      setLocale,
      t,
    }),
    [locale, setLocale, t]
  );

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export const useI18n = (): I18nContextValue => {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useI18n must be used within I18nProvider');
  }
  return context;
};
